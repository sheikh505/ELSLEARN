<div class="ibox listing-holder">

  <div class="ibox-title">
    <h5>Listing course_linkings</h5>
  </div>

  <div class="ibox-content">
    <table class="table table-striped">
      <thead>
      <tr>
        <th>GCE <br/> A & AS Level </th>
        <th>GCE <br/> O Level</th>
        <th>GCE <br/> IGCSE</th>
        <th>EdExcel <br/> A & AS Level </th>
        <th></th>
        <th></th>
      </tr>
      </thead>
      <tbody>
      <% @course_linkings.each do |course_linking| %>
          <tr>
            <td><%= get_course_name(course_linking.course_3) %></td>
            <td><%= get_course_name(course_linking.course_2) %></td>
            <td><%= get_course_name(course_linking.course_1) %></td>
            <td><%= get_course_name(course_linking.course_4) %></td>
            <td><%= link_to 'Edit', edit_course_linking_path(course_linking), class: "edit_course_linking", remote: true %></td>
            <td><%= link_to 'Destroy', course_linking, method: :delete,remote: true,
                            class: "delete_course_linking",  data: { confirm: 'Are you sure?' } %></td>
          </tr>
      <% end %>
      </tbody>
    </table>
  </div>
</div>
<br />

<%= link_to 'New Course linking', new_course_linking_path, id: "new_course_linking", remote: true, :class => 'btn btn-large btn-inverse' %>

<script>
  $('#new_course_linking').on("ajax:success", function(e, data, status, xhr){
    $('#course_container').html(data);
  });

  $('.edit_course_linking').on("ajax:success", function(e, data, status, xhr){
    $('#course_container').html(data);
  });

  $('.delete_course_linking').on("ajax:success", function(e, data, status, xhr){
    $('#course_container').html(data);
    $( "<br><div id='error' class='alert alert-danger'> <strong>Course Linking successfully deleted.</strong> </div>" ).insertAfter( "h1" );
    $('#error').fadeIn(700).focus().delay(2500).fadeOut(800);
  });
</script>